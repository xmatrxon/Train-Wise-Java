<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	
	<f:metadata>
	    <f:viewAction action="#{registerBB.onLoad()}" />
	</f:metadata>
	
	 
	<ui:composition template="/templates/main-template.xhtml">
		<ui:define name="content">
			
			<div class="container mt-5">
				<h:form class="searchForm" rendered="#{registerBB.klient != null}">
					<legend>Dane osoby</legend>
			        <div class="mb-3">
			            <label for="imie" class="form-label">Imie: </label>
			            <h:inputText class="form-control" id="imie" value="#{registerBB.klient.imie}" required="true" requiredMessage="podaj imie"/>
			        </div>
			        <div class="mb-3">
			            <label for="nazwisko" class="form-label">Nazwisko: </label>
			            <h:inputText class="form-control" id="nazwisko" value="#{registerBB.klient.nazwisko}" required="true" requiredMessage="podaj nazwisko"/>
			        </div>
			        <div class="mb-3">
			            <label for="nrtel" class="form-label">Nr. telefonu: </label>
			            <h:inputText class="form-control" id="nrtel" value="#{remoteClient.details.nrTel}" required="true" requiredMessage="podaj nr tel"/>
			        </div>
			        <div class="mb-3">
			            <label for="login" class="form-label">Login: </label>
			            <h:inputText class="form-control" id="login" value="#{remoteClient.details.login}" required="true" requiredMessage="podaj login"/>
			        </div>
			        <div class="mb-3">
			            <label for="haslo" class="form-label">Hasło: </label>
			            <h:inputSecret class="form-control" id="haslo" value="#{remoteClient.details.haslo}" required="true" requiredMessage="podaj hasło" />
			        </div>
					<h:commandButton value="Zapisz" class="btn btn-primary" action="#{registerBB.saveData()}"/>
					
						<c:set var = "admin" scope = "session" value = "admin"/>
						<c:set var = "user" scope = "session" value = "user"/>
						
						<c:if test="#{remoteClient.details.rola eq admin}">
							<a href="pages/LoginView.xhtml" class="nav-link link login-btn">Panel admina(personlist)</a>
						</c:if>
						<c:if test="#{remoteClient.details.rola eq user}">
							<a href="UserInfoView.xhtml" class="nav-link link login-btn">Panel użytkownika</a>
						</c:if>
				</h:form>
		</div>
			
		</ui:define>
	</ui:composition>
</html>